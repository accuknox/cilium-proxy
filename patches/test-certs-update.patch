diff --git a/test/common/grpc/BUILD b/test/common/grpc/BUILD
index edfdfbda40..46b7dd3188 100644
--- a/test/common/grpc/BUILD
+++ b/test/common/grpc/BUILD
@@ -163,8 +163,6 @@ envoy_cc_test_library(
 envoy_cc_test(
     name = "grpc_client_integration_test",
     srcs = ["grpc_client_integration_test.cc"],
-    # Fails on windows; Connection is terminated early testing BasicStream/IPv4_EnvoyGrpc
-    tags = ["fails_on_windows"],
     deps = [
         ":grpc_client_integration_test_harness_lib",
         "//source/common/grpc:async_client_lib",
diff --git a/test/config/integration/certs/cacert.pem b/test/config/integration/certs/cacert.pem
index 021f465ac3..c54bd51a30 100644
--- a/test/config/integration/certs/cacert.pem
+++ b/test/config/integration/certs/cacert.pem
@@ -1,23 +1,23 @@
 -----BEGIN CERTIFICATE-----
-MIID0jCCArqgAwIBAgIJAJxgLCQiz7YlMA0GCSqGSIb3DQEBCwUAMHYxCzAJBgNV
-BAYTAlVTMRMwEQYDVQQIDApDYWxpZm9ybmlhMRYwFAYDVQQHDA1TYW4gRnJhbmNp
-c2NvMQ0wCwYDVQQKDARMeWZ0MRkwFwYDVQQLDBBMeWZ0IEVuZ2luZWVyaW5nMRAw
-DgYDVQQDDAdUZXN0IENBMB4XDTE4MTIxNzIwMTgwMFoXDTIwMTIxNjIwMTgwMFow
-djELMAkGA1UEBhMCVVMxEzARBgNVBAgMCkNhbGlmb3JuaWExFjAUBgNVBAcMDVNh
-biBGcmFuY2lzY28xDTALBgNVBAoMBEx5ZnQxGTAXBgNVBAsMEEx5ZnQgRW5naW5l
-ZXJpbmcxEDAOBgNVBAMMB1Rlc3QgQ0EwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAw
-ggEKAoIBAQCpZHOUq+nidd+Gz44RC80QG9De9jcFUStEMGucXlnvvp2cH3GV4GmO
-IZPdCwasxuruO3VM/Yt8tUAO2OrTQayuL9GXTt8MTpkCrviebMBzjYjbgyLgDpZy
-cMoEJjBx0JsfQV+9IUDROLlIehTYzjcIWuLEOqMjZXQQCOI+jA3CEWZx1TFhRWhi
-9aBnQQzWCSZPV5ErKSSRg2T2Xnuhusue7ETtgSt36hDrOxLhJaeS1/YlovyhX94j
-JPhASK3LutJUDO2tk8L713Y3WHkFzDMfkGrklRbBB/ZKXRRGiJDWElpbUCUVFbuw
-7laBtTn0t74DQxBXqal9sIr9vV7LLQszAgMBAAGjYzBhMA8GA1UdEwEB/wQFMAMB
-Af8wDgYDVR0PAQH/BAQDAgEGMB0GA1UdDgQWBBQUM9b2kmz7njy/vuxkzKiwDLZN
-5DAfBgNVHSMEGDAWgBQUM9b2kmz7njy/vuxkzKiwDLZN5DANBgkqhkiG9w0BAQsF
-AAOCAQEAkWqORue+2exZldWbYaDUX3ANP0ATBNIbZM70uTNO8Iy+r5Fvxtae/PsV
-Iac9LzVY5dY5eqIND9wo7osFfxEhJdJn+/tpTU2h9IhsuWMm0Ogj87NS3sy0xwDc
-xBhnVXI8nCDYU3qU3p+AeC0VfEbNb+dRKHH/FL77jvIL64GP/WGxxS9u7LRTUUoR
-g97ZWeayKEsHAicRao4/k3jgpNIUN0BOlkjLvCe1ExU0id5R3UtdITmbuSSe6GJx
-j8xsEV8PxmOIaJ/M+fqE+Zi2Ljp3a+9X/nLakR6ohMNTbrGMQWrGIpFqCj6pIwek
-6Uemmmca+JeVohl8P3enMlW1d6/24w==
+MIID3TCCAsWgAwIBAgIUdCu/mLip3X/We37vh3BA9u/nxakwDQYJKoZIhvcNAQEL
+BQAwdjELMAkGA1UEBhMCVVMxEzARBgNVBAgMCkNhbGlmb3JuaWExFjAUBgNVBAcM
+DVNhbiBGcmFuY2lzY28xDTALBgNVBAoMBEx5ZnQxGTAXBgNVBAsMEEx5ZnQgRW5n
+aW5lZXJpbmcxEDAOBgNVBAMMB1Rlc3QgQ0EwHhcNMjAwODA1MTkxNjAwWhcNMjIw
+ODA1MTkxNjAwWjB2MQswCQYDVQQGEwJVUzETMBEGA1UECAwKQ2FsaWZvcm5pYTEW
+MBQGA1UEBwwNU2FuIEZyYW5jaXNjbzENMAsGA1UECgwETHlmdDEZMBcGA1UECwwQ
+THlmdCBFbmdpbmVlcmluZzEQMA4GA1UEAwwHVGVzdCBDQTCCASIwDQYJKoZIhvcN
+AQEBBQADggEPADCCAQoCggEBALu2Ihi4DmaQG7zySZlWyM9SjxOXCI5840V7Hn0C
+XoiI8sQQmKSC2YCzsaphQoJ0lXCi6Y47o5FkooYyLeNDQTGS0nh+IWm5RCyochtO
+fnaKPv/hYxhpyFQEwkJkbF1Zt1s6j2rq5MzmbWZx090uXZEE82DNZ9QJaMPu6VWt
+iwGoGoS5HF5HNlUVxLNUsklNH0ZfDafR7/LC2ty1vO1c6EJ6yCGiyJZZ7Ilbz27Q
+HPAUd8CcDNKCHZDoMWkLSLN3Nj1MvPVZ5HDsHiNHXthP+zV8FQtloAuZ8Srsmlyg
+rJREkc7gF3f6HrH5ShNhsRFFc53NUjDbYZuha1u4hiOE8lcCAwEAAaNjMGEwDwYD
+VR0TAQH/BAUwAwEB/zAOBgNVHQ8BAf8EBAMCAQYwHQYDVR0OBBYEFJZL2ixTtL6V
+xpNz4qekny4NchiHMB8GA1UdIwQYMBaAFJZL2ixTtL6VxpNz4qekny4NchiHMA0G
+CSqGSIb3DQEBCwUAA4IBAQAcgG+AaCdrUFEVJDn9UsO7zqzQ3c1VOp+WAtAU8OQK
+Oc4vJYVVKpDs8OZFxmukCeqm1gz2zDeH7TfgCs5UnLtkplx1YO1bd9qvserJVHiD
+LAK+Yl24ZEbrHPaq0zI1RLchqYUOGWmi51pcXi1gsfc8DQ3GqIXoai6kYJeV3jFJ
+jxpQSR32nx6oNN/6kVKlgmBjlWrOy7JyDXGim6Z97TzmS6Clctewmw/5gZ9g+M8e
+g0ZdFbFkNUjzSNm44hiDX8nR6yJRn+gLaARaJvp1dnT+MlvofZuER17WYKH4OyMs
+ie3qKR3an4KC20CtFbpZfv540BVuTTOCtQ5xqZ/LTE78
 -----END CERTIFICATE-----
diff --git a/test/config/integration/certs/cakey.pem b/test/config/integration/certs/cakey.pem
index 030b80b3d8..c545e1d178 100644
--- a/test/config/integration/certs/cakey.pem
+++ b/test/config/integration/certs/cakey.pem
@@ -1,27 +1,27 @@
 -----BEGIN RSA PRIVATE KEY-----
-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
+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
 -----END RSA PRIVATE KEY-----
diff --git a/test/config/integration/certs/client_ecdsacert.pem b/test/config/integration/certs/client_ecdsacert.pem
index d32aea1450..f982784dea 100644
--- a/test/config/integration/certs/client_ecdsacert.pem
+++ b/test/config/integration/certs/client_ecdsacert.pem
@@ -1,22 +1,22 @@
 -----BEGIN CERTIFICATE-----
-MIIDmTCCAoGgAwIBAgIJAILStmLgUUcYMA0GCSqGSIb3DQEBCwUAMHYxCzAJBgNV
-BAYTAlVTMRMwEQYDVQQIDApDYWxpZm9ybmlhMRYwFAYDVQQHDA1TYW4gRnJhbmNp
-c2NvMQ0wCwYDVQQKDARMeWZ0MRkwFwYDVQQLDBBMeWZ0IEVuZ2luZWVyaW5nMRAw
-DgYDVQQDDAdUZXN0IENBMB4XDTE4MTIxNzIwMTgwMFoXDTIwMTIxNjIwMTgwMFow
-gagxCzAJBgNVBAYTAlVTMRMwEQYDVQQIDApDYWxpZm9ybmlhMRYwFAYDVQQHDA1T
-YW4gRnJhbmNpc2NvMQ0wCwYDVQQKDARMeWZ0MRkwFwYDVQQLDBBMeWZ0IEVuZ2lu
-ZWVyaW5nMRswGQYDVQQDDBJUZXN0IEZyb250ZW5kIFRlYW0xJTAjBgkqhkiG9w0B
-CQEWFmZyb250ZW5kLXRlYW1AbHlmdC5jb20wWTATBgcqhkjOPQIBBggqhkjOPQMB
-BwNCAAT9UPlVN7p2GE0w7a7G7v+AqYYKwpsI1exZyLK4MiEBdiFxnQnjPP0Cfjpq
-8PvQCZdthQ7+WL+HhRirpCHPaVHno4HBMIG+MAwGA1UdEwEB/wQCMAAwCwYDVR0P
-BAQDAgXgMB0GA1UdJQQWMBQGCCsGAQUFBwMCBggrBgEFBQcDATBCBgNVHREEOzA5
-hh9zcGlmZmU6Ly9seWZ0LmNvbS9mcm9udGVuZC10ZWFtgghseWZ0LmNvbYIMd3d3
-Lmx5ZnQuY29tMB0GA1UdDgQWBBQLeMuyYBahRJ6gH43BRFYhMfBYxTAfBgNVHSME
-GDAWgBQUM9b2kmz7njy/vuxkzKiwDLZN5DANBgkqhkiG9w0BAQsFAAOCAQEAEh3S
-cW+nQzgbRCbfDkj+qcEslAOWJc6pNf6npKHtfn78YehVUKOiKkMdqTcW4zuhGjYA
-ifVkoyTgTHyqdxkNdgELIi7/7JDY0N73AgndCpA/F/OqqMHATVtUMzTZzk7EB+yx
-L6KyGuXVH6WtNnJ9Zo+f87FgjCtVZvnWqZKEynqtBRv930UaMkPPXQ/YLsrjkMC0
-VX2cyUG6tblYNxCeT73SRTs07KeT9wXOoZaUNxBJo0zPUYk3D1gEaCVCPMpqIOUF
-kHkEPCdBDeGE1/UT/rPeFcWI+fCpKDU7c41ojMQ4/HxxorecyzBHxCpuqKZFGzD5
-+SAdcodf60sCDUt8lA==
+MIIDpDCCAoygAwIBAgIUJuVBh0FKfFgIcO++ljWm7D47eYgwDQYJKoZIhvcNAQEL
+BQAwdjELMAkGA1UEBhMCVVMxEzARBgNVBAgMCkNhbGlmb3JuaWExFjAUBgNVBAcM
+DVNhbiBGcmFuY2lzY28xDTALBgNVBAoMBEx5ZnQxGTAXBgNVBAsMEEx5ZnQgRW5n
+aW5lZXJpbmcxEDAOBgNVBAMMB1Rlc3QgQ0EwHhcNMjAwODA1MTkxNjAyWhcNMjIw
+ODA1MTkxNjAyWjCBqDELMAkGA1UEBhMCVVMxEzARBgNVBAgMCkNhbGlmb3JuaWEx
+FjAUBgNVBAcMDVNhbiBGcmFuY2lzY28xDTALBgNVBAoMBEx5ZnQxGTAXBgNVBAsM
+EEx5ZnQgRW5naW5lZXJpbmcxGzAZBgNVBAMMElRlc3QgRnJvbnRlbmQgVGVhbTEl
+MCMGCSqGSIb3DQEJARYWZnJvbnRlbmQtdGVhbUBseWZ0LmNvbTBZMBMGByqGSM49
+AgEGCCqGSM49AwEHA0IABFWdfntWW5wivQyk9j45hLFf7QjInjo4H8up56yUkCcm
+n7ewQ9BEPoJ74r5ro/6nPBiRiTx1aolAjDPhgOfUZiWjgcEwgb4wDAYDVR0TAQH/
+BAIwADALBgNVHQ8EBAMCBeAwHQYDVR0lBBYwFAYIKwYBBQUHAwIGCCsGAQUFBwMB
+MEIGA1UdEQQ7MDmGH3NwaWZmZTovL2x5ZnQuY29tL2Zyb250ZW5kLXRlYW2CCGx5
+ZnQuY29tggx3d3cubHlmdC5jb20wHQYDVR0OBBYEFAB5r3dICa3pCN0DVINNnm3K
+DhmKMB8GA1UdIwQYMBaAFJZL2ixTtL6VxpNz4qekny4NchiHMA0GCSqGSIb3DQEB
+CwUAA4IBAQBel+R+1BpxpPhUGwkSbZBTY4zqU8w8Zx9eCCbpeAi96Qylg++nl88H
+ZInHLsC77wfzSf8vKWpsA9KDMB4R4njN1WLsQOKYWJmOE3K+AUuPmqP6mYyAju5k
+gGSg6BIhb5+HtkmvvF56qyuc4GWH8Ab/BhPMRli7h4cBMuSBoZeFoxNbIJfJDJ/P
+ZEkHqe1NsI9VG6pmGZ1adBMf04yE+muv+s43Wl/Ry/7W3Ae28XkxmS/c0wCq5h2u
+DMn6nnjDIzJ7tUqfWfacr8QZCQDYQKdBrE+OPw6bgK2p++jXfQDD277FcnMG6je/
+ZbqoW4tPXfdl/INMbS1j2h59RTrXGZaR
 -----END CERTIFICATE-----
diff --git a/test/config/integration/certs/client_ecdsacert_hash.h b/test/config/integration/certs/client_ecdsacert_hash.h
index 787f4511b3..f765514c36 100644
--- a/test/config/integration/certs/client_ecdsacert_hash.h
+++ b/test/config/integration/certs/client_ecdsacert_hash.h
@@ -1,3 +1,3 @@
 // NOLINT(namespace-envoy)
-constexpr char TEST_CLIENT_ECDSA_CERT_HASH[] = "DC:B2:C0:82:AD:8C:C3:4E:06:2E:65:15:F9:F7:39:D0:4C:"
-                                               "8A:60:AF:1E:B6:01:18:C5:90:AE:AE:47:7D:B8:FC";
+constexpr char TEST_CLIENT_ECDSA_CERT_HASH[] = "9F:F2:B4:5A:72:E4:79:82:F4:5C:B1:49:8A:EF:12:53:9C:"
+                                               "A7:AB:0A:61:DF:79:2F:D8:8D:4E:29:89:28:03:07";
diff --git a/test/config/integration/certs/client_ecdsakey.pem b/test/config/integration/certs/client_ecdsakey.pem
index e352e35a54..c41cf1b757 100644
--- a/test/config/integration/certs/client_ecdsakey.pem
+++ b/test/config/integration/certs/client_ecdsakey.pem
@@ -2,7 +2,7 @@
 BggqhkjOPQMBBw==
 -----END EC PARAMETERS-----
 -----BEGIN EC PRIVATE KEY-----
-MHcCAQEEIOoeoqRYQ6raBXh0ejEFGvOvP8XNgbKnj7tDYDLFH7t1oAoGCCqGSM49
-AwEHoUQDQgAE/VD5VTe6dhhNMO2uxu7/gKmGCsKbCNXsWciyuDIhAXYhcZ0J4zz9
-An46avD70AmXbYUO/li/h4UYq6Qhz2lR5w==
+MHcCAQEEIJjBCnRPxmRg21Jdlt8MAQGqtD6ilFK2bsxx5twZklmzoAoGCCqGSM49
+AwEHoUQDQgAEVZ1+e1ZbnCK9DKT2PjmEsV/tCMieOjgfy6nnrJSQJyaft7BD0EQ+
+gnvivmuj/qc8GJGJPHVqiUCMM+GA59RmJQ==
 -----END EC PRIVATE KEY-----
diff --git a/test/config/integration/certs/clientcert.pem b/test/config/integration/certs/clientcert.pem
index edca455abf..e56b5aa5fa 100644
--- a/test/config/integration/certs/clientcert.pem
+++ b/test/config/integration/certs/clientcert.pem
@@ -1,26 +1,26 @@
 -----BEGIN CERTIFICATE-----
-MIIEZDCCA0ygAwIBAgIJAILStmLgUUcXMA0GCSqGSIb3DQEBCwUAMHYxCzAJBgNV
-BAYTAlVTMRMwEQYDVQQIDApDYWxpZm9ybmlhMRYwFAYDVQQHDA1TYW4gRnJhbmNp
-c2NvMQ0wCwYDVQQKDARMeWZ0MRkwFwYDVQQLDBBMeWZ0IEVuZ2luZWVyaW5nMRAw
-DgYDVQQDDAdUZXN0IENBMB4XDTE4MTIxNzIwMTgwMFoXDTIwMTIxNjIwMTgwMFow
-gagxCzAJBgNVBAYTAlVTMRMwEQYDVQQIDApDYWxpZm9ybmlhMRYwFAYDVQQHDA1T
-YW4gRnJhbmNpc2NvMQ0wCwYDVQQKDARMeWZ0MRkwFwYDVQQLDBBMeWZ0IEVuZ2lu
-ZWVyaW5nMRswGQYDVQQDDBJUZXN0IEZyb250ZW5kIFRlYW0xJTAjBgkqhkiG9w0B
-CQEWFmZyb250ZW5kLXRlYW1AbHlmdC5jb20wggEiMA0GCSqGSIb3DQEBAQUAA4IB
-DwAwggEKAoIBAQCouLlGbMfpOV5Sh/zbUNo6GHzhpB1Q/UqxzkdmgdF4tzm3w83Q
-qka2/Q4R4/Xi3gmbUlszfw2Ax8ouIbPlx5m/1/ytvUVOcyvksu+ae92WP62nukL3
-RLLt4ctvSiA0i9FeFrNmuM+R/cSdMf9tl20heL2/bgCmIlNr6i+KMsZQlWm3GRna
-rfh8RWwyzqVDLLTvOO+h9jxHfKanN1BwIm0RYHRgxfyehel4av6t9xsylE4dtGvk
-4DO7aO98IfNtn6rHyuIY2g8Wp4Mwbs9Z+uXSCc8/NTCOm9GSvG2hJSMIdqdnETLf
-5eTiRUB3FF4el3nXNhOTFr0iAydL7bIYqkprAgMBAAGjgcEwgb4wDAYDVR0TAQH/
-BAIwADALBgNVHQ8EBAMCBeAwHQYDVR0lBBYwFAYIKwYBBQUHAwIGCCsGAQUFBwMB
-MEIGA1UdEQQ7MDmGH3NwaWZmZTovL2x5ZnQuY29tL2Zyb250ZW5kLXRlYW2CCGx5
-ZnQuY29tggx3d3cubHlmdC5jb20wHQYDVR0OBBYEFJD5l1K7mp/dUUNXvXPBWJ5l
-oJOnMB8GA1UdIwQYMBaAFBQz1vaSbPuePL++7GTMqLAMtk3kMA0GCSqGSIb3DQEB
-CwUAA4IBAQCJOUQB5d8ZCEeMrY0jLwefY8L0UluhPFWNlw1t2LyDjAa8qRNkWJ/2
-bky7IHBMxPQIdYBVPsQGOQ4bkg3S7Eqyc0WZYpLlKEQeUFPG752642GInzjgY3KG
-f1hIHz1quIYARjF5GJ+buZpw3DgcGDnhYygFQDWqgyRnfz84M1ycEx06yHidupyp
-eMHZHXcrSXPcGin7a6tBEppDFm5CcrJQ2hySDVkl9qnbgHr0+0JZg/Qekik4aWv5
-ACWk3wTxIPUv6mc8kbBMRMPkETzWt4m/qdLnUUhFKJdyACPlb6onJe1TGuYJvc2x
-rNV3U8Yo8a1iskQtHqNfc+kqVd3MpgsB
+MIIEbzCCA1egAwIBAgIUJuVBh0FKfFgIcO++ljWm7D47eYcwDQYJKoZIhvcNAQEL
+BQAwdjELMAkGA1UEBhMCVVMxEzARBgNVBAgMCkNhbGlmb3JuaWExFjAUBgNVBAcM
+DVNhbiBGcmFuY2lzY28xDTALBgNVBAoMBEx5ZnQxGTAXBgNVBAsMEEx5ZnQgRW5n
+aW5lZXJpbmcxEDAOBgNVBAMMB1Rlc3QgQ0EwHhcNMjAwODA1MTkxNjAxWhcNMjIw
+ODA1MTkxNjAxWjCBqDELMAkGA1UEBhMCVVMxEzARBgNVBAgMCkNhbGlmb3JuaWEx
+FjAUBgNVBAcMDVNhbiBGcmFuY2lzY28xDTALBgNVBAoMBEx5ZnQxGTAXBgNVBAsM
+EEx5ZnQgRW5naW5lZXJpbmcxGzAZBgNVBAMMElRlc3QgRnJvbnRlbmQgVGVhbTEl
+MCMGCSqGSIb3DQEJARYWZnJvbnRlbmQtdGVhbUBseWZ0LmNvbTCCASIwDQYJKoZI
+hvcNAQEBBQADggEPADCCAQoCggEBANarN0opNpHy8zDYi2ih9rLXqgpjVEHSsUDo
+eX506Uil9U5I2hCq5XDDsKYhFrRh54G7s9AXCh8orbCBwALPznLwBqSeVy1rnUUR
+dWlAGdoCGDbVPC1+Eg7Q8AM8KkGN49x6PcIepHClkX+nnwRogrSXnPHydik9Mhgc
++009IcNf4pPl5U1WcL+JEN+x6iXg+nERoKbVHSp0mkS8CQYdPtx2p+QsnEKRyG3W
+eJ7msZPW77th27yxzRYDK4TARQAmHchN3FeF2qs1ak2e2s2chTnYb9qfBb++aanA
+fewjnfd/enuvT7Uihswv0dniNTE5I5tDCigXYg1Pp3AKxs7Cja0CAwEAAaOBwTCB
+vjAMBgNVHRMBAf8EAjAAMAsGA1UdDwQEAwIF4DAdBgNVHSUEFjAUBggrBgEFBQcD
+AgYIKwYBBQUHAwEwQgYDVR0RBDswOYYfc3BpZmZlOi8vbHlmdC5jb20vZnJvbnRl
+bmQtdGVhbYIIbHlmdC5jb22CDHd3dy5seWZ0LmNvbTAdBgNVHQ4EFgQUxEyk+snc
+pQdwv9y8NLXJeJQRP/QwHwYDVR0jBBgwFoAUlkvaLFO0vpXGk3Pip6SfLg1yGIcw
+DQYJKoZIhvcNAQELBQADggEBABT1893YgY90gOrkbFz7u81VXa/pxGGIvqoNlFEd
+PLP+QSdJVOHL7Ud7qecrUkeJ5Xn57BI4x4lfLVbs74phW8EDspxQ5FRtRQzrQZE9
+R/0VdeAVJIAm+108cfmX83rFriktQC9ffRFnsamCuDjpKWLg/3tMaNSAz7yfxYsJ
+sUCRKnLRb7kRyD4tiztHZjY9F1sEYoVbNuQiyFeDZzwLhe9S1WN9rUYA4n+wmyDh
+MAjmaJYWwyTZx6SwSevYaXAZSdlxqxVyBrTeNELhbXn0vRxK2J5c9gqXNf2vRKrW
+jDsrvfG9XRMBXv1USqplMVduvml5OdTlnALD4Gd1WDJfVt8=
 -----END CERTIFICATE-----
diff --git a/test/config/integration/certs/clientcert_hash.h b/test/config/integration/certs/clientcert_hash.h
index cd77a55df7..c40b3818f6 100644
--- a/test/config/integration/certs/clientcert_hash.h
+++ b/test/config/integration/certs/clientcert_hash.h
@@ -1,3 +1,3 @@
 // NOLINT(namespace-envoy)
-constexpr char TEST_CLIENT_CERT_HASH[] = "90:CA:A3:E0:B0:AD:8E:E6:4F:BC:11:6C:7B:E5:9D:35:11:2B:46:"
-                                         "71:5F:4D:5C:52:85:37:23:08:38:28:B4:D6";
+constexpr char TEST_CLIENT_CERT_HASH[] = "0E:80:B9:1F:11:3F:FB:43:9B:CB:5A:70:2D:04:C5:00:D6:81:68:"
+                                         "8C:CA:F8:91:92:21:CA:0F:91:61:A5:FB:01";
diff --git a/test/config/integration/certs/clientkey.pem b/test/config/integration/certs/clientkey.pem
index e1b46d735e..aee2284618 100644
--- a/test/config/integration/certs/clientkey.pem
+++ b/test/config/integration/certs/clientkey.pem
@@ -1,27 +1,27 @@
 -----BEGIN RSA PRIVATE KEY-----
-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
+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
 -----END RSA PRIVATE KEY-----
diff --git a/test/config/integration/certs/server_ecdsacert.pem b/test/config/integration/certs/server_ecdsacert.pem
index d63b385235..6a0c863d41 100644
--- a/test/config/integration/certs/server_ecdsacert.pem
+++ b/test/config/integration/certs/server_ecdsacert.pem
@@ -1,22 +1,22 @@
 -----BEGIN CERTIFICATE-----
-MIIDljCCAn6gAwIBAgIJAILStmLgUUcWMA0GCSqGSIb3DQEBCwUAMHYxCzAJBgNV
-BAYTAlVTMRMwEQYDVQQIDApDYWxpZm9ybmlhMRYwFAYDVQQHDA1TYW4gRnJhbmNp
-c2NvMQ0wCwYDVQQKDARMeWZ0MRkwFwYDVQQLDBBMeWZ0IEVuZ2luZWVyaW5nMRAw
-DgYDVQQDDAdUZXN0IENBMB4XDTE4MTIxNzIwMTgwMFoXDTIwMTIxNjIwMTgwMFow
-gaYxCzAJBgNVBAYTAlVTMRMwEQYDVQQIDApDYWxpZm9ybmlhMRYwFAYDVQQHDA1T
-YW4gRnJhbmNpc2NvMQ0wCwYDVQQKDARMeWZ0MRkwFwYDVQQLDBBMeWZ0IEVuZ2lu
-ZWVyaW5nMRowGAYDVQQDDBFUZXN0IEJhY2tlbmQgVGVhbTEkMCIGCSqGSIb3DQEJ
-ARYVYmFja2VuZC10ZWFtQGx5ZnQuY29tMFkwEwYHKoZIzj0CAQYIKoZIzj0DAQcD
-QgAEgVE4DzGyifdO4yefn1bEhFfkTrUjfV3Lay9NQz6D1SosrCnk7KZtl6Nbc/U6
-KiGlN+9GpD0ulKEljgjn7TTtT6OBwDCBvTAMBgNVHRMBAf8EAjAAMAsGA1UdDwQE
-AwIF4DAdBgNVHSUEFjAUBggrBgEFBQcDAgYIKwYBBQUHAwEwQQYDVR0RBDowOIYe
-c3BpZmZlOi8vbHlmdC5jb20vYmFja2VuZC10ZWFtgghseWZ0LmNvbYIMd3d3Lmx5
-ZnQuY29tMB0GA1UdDgQWBBQDO72plAAjzF3GWFAC+8fyzUpl0zAfBgNVHSMEGDAW
-gBQUM9b2kmz7njy/vuxkzKiwDLZN5DANBgkqhkiG9w0BAQsFAAOCAQEAppJXn2t3
-7qER7Dj4HjNq3GdASgiLsCgjus5Mbfje4rGbb73WJnsMVpOZtWwC4KyIxDHBzFmR
-ntS3g4eJ3FxFkr5ls+RDzSAyIJBzh/Bwt1Yrkn3Yh3HxgsYy6Rd7z4+hHgaqnrza
-ESdmWHoMGg7AJy17drIDmxAK7Os5qObWxytsrUL+lTIBJ3OS2IDiB2tT/WrRMSx9
-umYff6YsGLsOGtVgRsc640wKex7r468p1tkwj5r2PxvH9V9L3hp9QuH+W4gR6IYe
-HhcCTllp+3iH0vmcXCZRP984nnwRBPP3tBuT+/zmUyDp0UPBHqF+jcHxMB/YA9An
-SziyfTA1g4CzRA==
+MIIDoTCCAomgAwIBAgIUJuVBh0FKfFgIcO++ljWm7D47eYYwDQYJKoZIhvcNAQEL
+BQAwdjELMAkGA1UEBhMCVVMxEzARBgNVBAgMCkNhbGlmb3JuaWExFjAUBgNVBAcM
+DVNhbiBGcmFuY2lzY28xDTALBgNVBAoMBEx5ZnQxGTAXBgNVBAsMEEx5ZnQgRW5n
+aW5lZXJpbmcxEDAOBgNVBAMMB1Rlc3QgQ0EwHhcNMjAwODA1MTkxNjAxWhcNMjIw
+ODA1MTkxNjAxWjCBpjELMAkGA1UEBhMCVVMxEzARBgNVBAgMCkNhbGlmb3JuaWEx
+FjAUBgNVBAcMDVNhbiBGcmFuY2lzY28xDTALBgNVBAoMBEx5ZnQxGTAXBgNVBAsM
+EEx5ZnQgRW5naW5lZXJpbmcxGjAYBgNVBAMMEVRlc3QgQmFja2VuZCBUZWFtMSQw
+IgYJKoZIhvcNAQkBFhViYWNrZW5kLXRlYW1AbHlmdC5jb20wWTATBgcqhkjOPQIB
+BggqhkjOPQMBBwNCAARbRc4+r8sbKLs89/fS0Y8CSTVNKn8opkCFx/UyLPvELLn6
+lQ86GjcQIqJRqoEqEwP7iyCaDhFigsOKsNQSzE9/o4HAMIG9MAwGA1UdEwEB/wQC
+MAAwCwYDVR0PBAQDAgXgMB0GA1UdJQQWMBQGCCsGAQUFBwMCBggrBgEFBQcDATBB
+BgNVHREEOjA4hh5zcGlmZmU6Ly9seWZ0LmNvbS9iYWNrZW5kLXRlYW2CCGx5ZnQu
+Y29tggx3d3cubHlmdC5jb20wHQYDVR0OBBYEFM6Jqpu+mo5ATAcIizKPrFH1qDLK
+MB8GA1UdIwQYMBaAFJZL2ixTtL6VxpNz4qekny4NchiHMA0GCSqGSIb3DQEBCwUA
+A4IBAQAYGH/EjPHxtE5fQ7kDsRGcafMLqcx6OYhZlqDfMqepbFEWlkL/kuNVrjez
+NoG67cc3DSagyVocjr7yCz/kkDm4HowRapGK6eSK3dWhjrQzp2F6ImAAfht7YkhF
+JKkuRYULKpsRRj+YVpBpYkUjRVaqLNJJpXOItpvZMsyXDZn/ihy1QerDXaetWXgP
+yFRL+g9f+e8OydXgd/lrKByLBCszNPeg4nhGsgZZ1WHj5sl2EY27eAIWRXqFIQbr
+VwbLfpFm2R2nrJT8zJF54OUpG/3hKOEkgZ3gSK9+tnQeSM01lXHd1ZzrmzCdItDQ
+MNl4mwlDTJLwL/vwMld9UFz0qAYi
 -----END CERTIFICATE-----
diff --git a/test/config/integration/certs/server_ecdsacert_hash.h b/test/config/integration/certs/server_ecdsacert_hash.h
index 309feff186..2b828070d6 100644
--- a/test/config/integration/certs/server_ecdsacert_hash.h
+++ b/test/config/integration/certs/server_ecdsacert_hash.h
@@ -1,3 +1,3 @@
 // NOLINT(namespace-envoy)
-constexpr char TEST_SERVER_ECDSA_CERT_HASH[] = "95:9A:D0:18:52:40:D9:88:35:B9:52:96:C1:50:86:82:76:"
-                                               "FD:24:AD:48:F9:8F:0C:13:36:BA:2D:36:F2:4C:F3";
+constexpr char TEST_SERVER_ECDSA_CERT_HASH[] = "B1:A4:B5:39:F8:91:77:00:3E:3E:23:1D:F2:AD:78:34:85:"
+                                               "D3:F0:D4:EF:D2:88:EA:B5:92:F7:71:E1:B8:0D:F5";
diff --git a/test/config/integration/certs/server_ecdsakey.pem b/test/config/integration/certs/server_ecdsakey.pem
index a46830f1a6..df1f17d826 100644
--- a/test/config/integration/certs/server_ecdsakey.pem
+++ b/test/config/integration/certs/server_ecdsakey.pem
@@ -2,7 +2,7 @@
 BggqhkjOPQMBBw==
 -----END EC PARAMETERS-----
 -----BEGIN EC PRIVATE KEY-----
-MHcCAQEEICqemTBghfUmDlTHDq5GCz5CV51QLvQEkUGOxhtOR6hboAoGCCqGSM49
-AwEHoUQDQgAEgVE4DzGyifdO4yefn1bEhFfkTrUjfV3Lay9NQz6D1SosrCnk7KZt
-l6Nbc/U6KiGlN+9GpD0ulKEljgjn7TTtTw==
+MHcCAQEEIGY3X0at4PZN6X+MHnEC/vwjaKTq/ffwp0KfMcAKCwgToAoGCCqGSM49
+AwEHoUQDQgAEW0XOPq/LGyi7PPf30tGPAkk1TSp/KKZAhcf1Miz7xCy5+pUPOho3
+ECKiUaqBKhMD+4sgmg4RYoLDirDUEsxPfw==
 -----END EC PRIVATE KEY-----
diff --git a/test/config/integration/certs/servercert.pem b/test/config/integration/certs/servercert.pem
index f65b3b34ae..c654495573 100644
--- a/test/config/integration/certs/servercert.pem
+++ b/test/config/integration/certs/servercert.pem
@@ -1,26 +1,26 @@
 -----BEGIN CERTIFICATE-----
-MIIEYTCCA0mgAwIBAgIJAILStmLgUUcVMA0GCSqGSIb3DQEBCwUAMHYxCzAJBgNV
-BAYTAlVTMRMwEQYDVQQIDApDYWxpZm9ybmlhMRYwFAYDVQQHDA1TYW4gRnJhbmNp
-c2NvMQ0wCwYDVQQKDARMeWZ0MRkwFwYDVQQLDBBMeWZ0IEVuZ2luZWVyaW5nMRAw
-DgYDVQQDDAdUZXN0IENBMB4XDTE4MTIxNzIwMTgwMFoXDTIwMTIxNjIwMTgwMFow
-gaYxCzAJBgNVBAYTAlVTMRMwEQYDVQQIDApDYWxpZm9ybmlhMRYwFAYDVQQHDA1T
-YW4gRnJhbmNpc2NvMQ0wCwYDVQQKDARMeWZ0MRkwFwYDVQQLDBBMeWZ0IEVuZ2lu
-ZWVyaW5nMRowGAYDVQQDDBFUZXN0IEJhY2tlbmQgVGVhbTEkMCIGCSqGSIb3DQEJ
-ARYVYmFja2VuZC10ZWFtQGx5ZnQuY29tMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8A
-MIIBCgKCAQEAuvPdQdmwZongPAgQho/Vipd3PZWrQ6BKxIb4l/RvqtVP321IUTLs
-4vVwpXoYJ+12L+XOO3jCInszs53tHjFpTI1GE8/sasmgR6LRr2krwSoVRHPqUoc9
-tzkDG1SzKP2TRTi1MTI3FO+TnLFahntO9Zstxhv1Epz5GZ/xQLE0/LLoRYzcynL/
-iflk18iL1KM8i0Hy4cKjclOaUdnh2nh753iJfxCSb5wJfx4FH1qverYHHT6FopYR
-V40Cg0yYXcYo8yNwrg+EBY8QAT2JOMDokXNKbZpmVKiBlh0QYMX6BBiW249v3sYl
-3Ve+fZvCkle3W0xP0xJw8PdX0NRbvGOrBQIDAQABo4HAMIG9MAwGA1UdEwEB/wQC
-MAAwCwYDVR0PBAQDAgXgMB0GA1UdJQQWMBQGCCsGAQUFBwMCBggrBgEFBQcDATBB
-BgNVHREEOjA4hh5zcGlmZmU6Ly9seWZ0LmNvbS9iYWNrZW5kLXRlYW2CCGx5ZnQu
-Y29tggx3d3cubHlmdC5jb20wHQYDVR0OBBYEFLHmMm0DV9jCHJSWVRwyPYpBw62r
-MB8GA1UdIwQYMBaAFBQz1vaSbPuePL++7GTMqLAMtk3kMA0GCSqGSIb3DQEBCwUA
-A4IBAQAwx3/M2o00W8GlQ3OT4y/hQGb5K2aytxx8QeSmJaaZTJbvaHhe0x3/fLgq
-uWrW3WEWFtwasilySjOrFOtB9UNmJmNOHSJD3Bslbv5htRaWnoFPCXdwZtVMdoTq
-IHIQqLoos/xj3kVD5sJSYySrveMeKaeUILTkb5ZubSivye1X2yiJLR7AtuwuiMio
-CdIOqhn6xJqYhT7z0IhdKpLNPk4w1tBZSKOXqzrXS4uoJgTC67hWslWWZ2VC6IvZ
-FmKuuGZamCCj6F1QF2IjMVM8evl84hEnN0ajdkA/QWnil9kcWvBm15Ho+oTvvJ7s
-M8MD3RDSq/90FSiME4vbyNEyTmj0
+MIIEbDCCA1SgAwIBAgIUJuVBh0FKfFgIcO++ljWm7D47eYUwDQYJKoZIhvcNAQEL
+BQAwdjELMAkGA1UEBhMCVVMxEzARBgNVBAgMCkNhbGlmb3JuaWExFjAUBgNVBAcM
+DVNhbiBGcmFuY2lzY28xDTALBgNVBAoMBEx5ZnQxGTAXBgNVBAsMEEx5ZnQgRW5n
+aW5lZXJpbmcxEDAOBgNVBAMMB1Rlc3QgQ0EwHhcNMjAwODA1MTkxNjAxWhcNMjIw
+ODA1MTkxNjAxWjCBpjELMAkGA1UEBhMCVVMxEzARBgNVBAgMCkNhbGlmb3JuaWEx
+FjAUBgNVBAcMDVNhbiBGcmFuY2lzY28xDTALBgNVBAoMBEx5ZnQxGTAXBgNVBAsM
+EEx5ZnQgRW5naW5lZXJpbmcxGjAYBgNVBAMMEVRlc3QgQmFja2VuZCBUZWFtMSQw
+IgYJKoZIhvcNAQkBFhViYWNrZW5kLXRlYW1AbHlmdC5jb20wggEiMA0GCSqGSIb3
+DQEBAQUAA4IBDwAwggEKAoIBAQC9JgaI7hxjPM0tsUna/QmivBdKbCrLnLW9Teak
+RH/Ebg68ovyvrRIlybDT6XhKi+iVpzVY9kqxhGHgrFDgGLBakVMiYJ5EjIgHfoo4
+UUAHwIYbunJluYCgANzpprBsvTC/yFYDVMqUrjvwHsoYYVm36io994k9+t813b70
+o0l7/PraBsKkz8NcY2V2mrd/yHn/0HAhv3hl6iiJme9yURuDYQrae2ACSrQtsbel
+KwdZ/Re71Z1awz0OQmAjMa2HuCop+Q/1QLnqBekT5+DH1qKUzJ3Jkq6NRkERXOpi
+87j04rtCBteCogrO67qnuBZ2lH3jYEMb+lQdLkyNMLltBSdLAgMBAAGjgcAwgb0w
+DAYDVR0TAQH/BAIwADALBgNVHQ8EBAMCBeAwHQYDVR0lBBYwFAYIKwYBBQUHAwIG
+CCsGAQUFBwMBMEEGA1UdEQQ6MDiGHnNwaWZmZTovL2x5ZnQuY29tL2JhY2tlbmQt
+dGVhbYIIbHlmdC5jb22CDHd3dy5seWZ0LmNvbTAdBgNVHQ4EFgQU2XcTZbc0xKZf
+gNVKSvAbMZJCBoYwHwYDVR0jBBgwFoAUlkvaLFO0vpXGk3Pip6SfLg1yGIcwDQYJ
+KoZIhvcNAQELBQADggEBAFW05aca3hSiEz/g593GAV3XP4lI5kYUjGjbPSy/HmLr
+rdv/u3bGfacywAPo7yld+arMzd35tIYEqnhoq0+/OxPeyhwZXVVUatg5Oknut5Zv
+2+8l+mVW+8oFCXRqr2gwc8Xt4ByYN+HaNUYfoucnjDplOPukkfSuRhbxqnkhA14v
+Lri2EbISX14sXf2VQ9I0dkm1hXUxiO0LlA1Z7tvJac9zPSoa6Oljke4D1iH2jzwF
+Yn7S/gGvVQgkTmWrs3S3TGyBDi4GTDhCF1R+ESvXz8z4UW1MrCSdYUXbRtsT7sbE
+CjlFYuUyxCi1oe3IHCeXVDo/bmzwGQPDuF3WaDNSYWU=
 -----END CERTIFICATE-----
diff --git a/test/config/integration/certs/servercert_hash.h b/test/config/integration/certs/servercert_hash.h
index 6e83ce9705..b75188ddab 100644
--- a/test/config/integration/certs/servercert_hash.h
+++ b/test/config/integration/certs/servercert_hash.h
@@ -1,3 +1,3 @@
 // NOLINT(namespace-envoy)
-constexpr char TEST_SERVER_CERT_HASH[] = "D3:F5:97:8F:8F:7E:CA:63:C3:FF:61:89:95:D7:47:31:E3:BA:9B:"
-                                         "3C:44:10:A1:57:61:B7:9F:4D:65:90:F8:7F";
+constexpr char TEST_SERVER_CERT_HASH[] = "E6:D4:55:6E:BC:91:E2:2F:1E:42:48:05:3C:3E:B7:97:ED:3E:51:"
+                                         "E3:A9:C4:87:1B:FF:61:76:25:6B:F3:95:7C";
diff --git a/test/config/integration/certs/serverkey.pem b/test/config/integration/certs/serverkey.pem
index 6870eed5bf..27ea60a966 100644
--- a/test/config/integration/certs/serverkey.pem
+++ b/test/config/integration/certs/serverkey.pem
@@ -1,27 +1,27 @@
 -----BEGIN RSA PRIVATE KEY-----
-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
+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
 -----END RSA PRIVATE KEY-----
diff --git a/test/config/integration/certs/upstreamcacert.pem b/test/config/integration/certs/upstreamcacert.pem
index c3d5692354..f3f76898c3 100644
--- a/test/config/integration/certs/upstreamcacert.pem
+++ b/test/config/integration/certs/upstreamcacert.pem
@@ -1,24 +1,24 @@
 -----BEGIN CERTIFICATE-----
-MIID7zCCAtegAwIBAgIUQygBeIE4nv9JGaDKixnhwkK5viEwDQYJKoZIhvcNAQEL
+MIID7zCCAtegAwIBAgIUTQZdxxw6y4+Te1kv8hDza/KXTHUwDQYJKoZIhvcNAQEL
 BQAwfzELMAkGA1UEBhMCVVMxEzARBgNVBAgMCkNhbGlmb3JuaWExFjAUBgNVBAcM
 DVNhbiBGcmFuY2lzY28xDTALBgNVBAoMBEx5ZnQxGTAXBgNVBAsMEEx5ZnQgRW5n
-aW5lZXJpbmcxGTAXBgNVBAMMEFRlc3QgVXBzdHJlYW0gQ0EwHhcNMTkwNzA4MjE0
-NTU2WhcNMjEwNzA3MjE0NTU2WjB/MQswCQYDVQQGEwJVUzETMBEGA1UECAwKQ2Fs
+aW5lZXJpbmcxGTAXBgNVBAMMEFRlc3QgVXBzdHJlYW0gQ0EwHhcNMjAwODA1MTkx
+NjAyWhcNMjIwODA1MTkxNjAyWjB/MQswCQYDVQQGEwJVUzETMBEGA1UECAwKQ2Fs
 aWZvcm5pYTEWMBQGA1UEBwwNU2FuIEZyYW5jaXNjbzENMAsGA1UECgwETHlmdDEZ
 MBcGA1UECwwQTHlmdCBFbmdpbmVlcmluZzEZMBcGA1UEAwwQVGVzdCBVcHN0cmVh
-bSBDQTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAMJ7AetbhOCUxB/A
-yYt+4rxyMVUFX9izqbOU9nuUxsB/avGhYpVjj5cNaLPdGX+c7g65Vz0yGDSskDGD
-ukcSFqRSZ2E4/S4gKSIMEslBr2OX+Dqh0XmoAwl4IrtZefCE3inivJdzm0JwI7Yr
-k2qQqsTpJnsWkMSxXUQJYTJ56UFXTkKqF3jSReIQtFMV65T/2x2NLRJ8KuMS7Mbo
-BTBATRsUfbJJWCnzcp2LrKV5sZ/HsJLK/F74jdcvfJQMW49Lq1TZaB5NYSVyFEf6
-tiT43JOcvVkRPBgHDtaiDhWF2WTmPSEB6cHaRwGgBFwjQ1SvZR6f6xexocn44GZE
-oSqWJN8CAwEAAaNjMGEwDwYDVR0TAQH/BAUwAwEB/zAOBgNVHQ8BAf8EBAMCAQYw
-HQYDVR0OBBYEFOLTMLryzNAcuxe3cKEhClkL7IduMB8GA1UdIwQYMBaAFOLTMLry
-zNAcuxe3cKEhClkL7IduMA0GCSqGSIb3DQEBCwUAA4IBAQBT88sT8RsoAk6PnnVs
-KWBoC75BnIZr8o1nxBK0zog6Ez4J32aVzEXPicgBg6hf6v77eqbbQ+O7Ayf+YQWj
-l9w9IiXRW1x94tKBrX44O85qTr/xtkfpmQWGKq5fBpdJnZp7lSfGfaG9gasPUNpG
-gfvF/vlYrrJoyvUOG6HQjZ7n7m6f8GEUymCtC68oJcLVL0xkvx/jcvGeJfI5U6yr
-z9nc1W7FcOhrFEetOIH2BwlIN5To3vPbN4zEzt9VPUHZ3m2899hUiMZJaanEexp7
-TZJJ12rHSIJ4MKwQQ5fEmioeluM0uY7EIR72VEsudA8bkXSkbDGs6Q49K9OX+nRB
-4P3c
+bSBDQTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAOFT8hbqRn+9AKU2
+IFtZKFFYpt7v2x1e8gtzgPm3TT7RJcV2GLeT1cOwubL81ArQmwfyVlwJkt1wK7Uw
++Z4FvtcCjQc4dR3yxkIdhzZOiq7PbQgAjyRNNGmneYTAvpXwC+l8ZV2M66ihUKgj
+7iGiqQCvYhuYIb7BEnOj20nFuvHlxaDWOst4SQgZmRIkQyA8rrAIRfu7aQiCEla5
+86AXcXV4gmOW3dsKNoXO8Fr+9mtAmJKocLtlUkCeDW+WYqv6RLjMVa915khNQLde
+bL+5hYxBcKYB10wOVzSTCfM6fbqtpqJZEdlGjkKtQ2Szy3mpoAJKPmZYzodVhL6N
+LhoLjZ8CAwEAAaNjMGEwDwYDVR0TAQH/BAUwAwEB/zAOBgNVHQ8BAf8EBAMCAQYw
+HQYDVR0OBBYEFDtmHVOikybtJjVEI4Q7wvUbwgBkMB8GA1UdIwQYMBaAFDtmHVOi
+kybtJjVEI4Q7wvUbwgBkMA0GCSqGSIb3DQEBCwUAA4IBAQAT3kBm2uCpB4cAmdgu
+u6sqxUvYFzYlHFnWrQ3ZFwMrLRSzUdrcp2nSQz+e8VeXI2SkLPCD5Xg+8GGLWA5X
+lH6tvVx41cRqSr611ebxPVWkEeP+ALkHo4xUbcR5WUJD52VxzqYbhavYFjB2FzqA
+OfefKyXIhcKtezKBwaJbVn9FseH49q6UNjYODOY88rW+2mvDoZWBUuti8CxNhIiu
+RHnGimY7H565NpbPliVlo2GhiKhJvyPwK7+cjfj68HaoixlXHmrg506bczO/Gt1a
+USQmjtB05h8bki0LQDiCQu1fdOPEflJnv3VdFz2SSKNRab2asP+KbRPURUW8f9zN
+GNxR
 -----END CERTIFICATE-----
diff --git a/test/config/integration/certs/upstreamcakey.pem b/test/config/integration/certs/upstreamcakey.pem
index 2fe99b9c2c..08b5a9bfcf 100644
--- a/test/config/integration/certs/upstreamcakey.pem
+++ b/test/config/integration/certs/upstreamcakey.pem
@@ -1,27 +1,27 @@
 -----BEGIN RSA PRIVATE KEY-----
-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
+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
 -----END RSA PRIVATE KEY-----
diff --git a/test/config/integration/certs/upstreamcert.cfg b/test/config/integration/certs/upstreamcert.cfg
index 4c6c2985ac..4e2e760a86 100644
--- a/test/config/integration/certs/upstreamcert.cfg
+++ b/test/config/integration/certs/upstreamcert.cfg
@@ -34,5 +34,5 @@ authorityKeyIdentifier = keyid:always
 
 [alt_names]
 DNS.1 = *.lyft.com
-IP.1 = 0.0.0.0
-IP.2 = ::
+IP.1 = 127.0.0.1
+IP.2 = ::1
\ No newline at end of file
diff --git a/test/config/integration/certs/upstreamcert.pem b/test/config/integration/certs/upstreamcert.pem
index 509397d6ca..211fa9d9df 100644
--- a/test/config/integration/certs/upstreamcert.pem
+++ b/test/config/integration/certs/upstreamcert.pem
@@ -1,25 +1,25 @@
 -----BEGIN CERTIFICATE-----
-MIIEPjCCAyagAwIBAgIUS0ht/ypqxlVqt86GiCya6cw/jJwwDQYJKoZIhvcNAQEL
+MIIEPjCCAyagAwIBAgIUEuy1WgSCzX6mojPirk7Th6uhNHowDQYJKoZIhvcNAQEL
 BQAwfzELMAkGA1UEBhMCVVMxEzARBgNVBAgMCkNhbGlmb3JuaWExFjAUBgNVBAcM
 DVNhbiBGcmFuY2lzY28xDTALBgNVBAoMBEx5ZnQxGTAXBgNVBAsMEEx5ZnQgRW5n
-aW5lZXJpbmcxGTAXBgNVBAMMEFRlc3QgVXBzdHJlYW0gQ0EwHhcNMTkwNzA4MjE0
-NTU3WhcNMjEwNzA3MjE0NTU3WjCBgzELMAkGA1UEBhMCVVMxEzARBgNVBAgMCkNh
+aW5lZXJpbmcxGTAXBgNVBAMMEFRlc3QgVXBzdHJlYW0gQ0EwHhcNMjAwODA1MTkx
+NjAyWhcNMjIwODA1MTkxNjAyWjCBgzELMAkGA1UEBhMCVVMxEzARBgNVBAgMCkNh
 bGlmb3JuaWExFjAUBgNVBAcMDVNhbiBGcmFuY2lzY28xDTALBgNVBAoMBEx5ZnQx
 GTAXBgNVBAsMEEx5ZnQgRW5naW5lZXJpbmcxHTAbBgNVBAMMFFRlc3QgVXBzdHJl
-YW0gU2VydmVyMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA+evHY2ld
-y4iKlGEHtenqIK26QeFpU9t2iqiRjUz0+lZ+92haR+I+x1nL41SO71i2SaHp8L2Q
-5cWkOS0zuYivsZSz/l9dHinAS+N50QsERo01moWOMyxfqSEbnZHMQS4OI/mf1dja
-Rykp7zhCXie2BlUtmiBMW+YnvLmBm1z6icwg7ZBJ8mt2ChpeH6qBggzwQQms9wvK
-/mcHR5HYHalLQdjhou3wwa6MB9bbeEoDd8I0tueRgnrq55mVJrm3yg1TSgUwkWCB
-J3VUrvdk3olgGwHv4njAB+uNfUn3od7MuipyHL8GJQJHOcus63M/Ax/UVxu0BiDy
-LfWW4MVO/5OX5QIDAQABo4GsMIGpMAwGA1UdEwEB/wQCMAAwCwYDVR0PBAQDAgXg
+YW0gU2VydmVyMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAtpiYA4/I
+NuflkPe4L/GTslmngNQUCo8TzPXG0gt7uoxr4FeuVy7AaD28S2/hwhbl+bDtHTQY
+mvBUwNMsYzpND2eQ3sSIumdeLzBEKP2mnnZ9gE/Zd2TIuZl686RpDq0B6ZdZSpCu
+bqQmmPFLiRNH8JViJZMN5yqMt7T5oq+DnCYQZllqmpAwd6NnhKALrYmZ87oqc0zh
+kf+5amP7zMYKkwQuRwcx4QPZkEp3+qhszolpAJ52dFGJ+pLuUVDg0Gf0cnxLjFKc
+6vcTlj4tsymR4ci58MHRt4EdGdhShw0oaj67gRRfU4Vj61I2ZAVH07kL0mjO2TZT
+EKrOEJJ7/dtxdwIDAQABo4GsMIGpMAwGA1UdEwEB/wQCMAAwCwYDVR0PBAQDAgXg
 MB0GA1UdJQQWMBQGCCsGAQUFBwMCBggrBgEFBQcDATAtBgNVHREEJjAkggoqLmx5
-ZnQuY29thwQAAAAAhxAAAAAAAAAAAAAAAAAAAAAAMB0GA1UdDgQWBBR3BvXiz3zi
-p+/5cojIhCEz3nn39jAfBgNVHSMEGDAWgBTi0zC68szQHLsXt3ChIQpZC+yHbjAN
-BgkqhkiG9w0BAQsFAAOCAQEAEB9RWuGIcRhZMM2AqXyOr4FOG63yfVg4fi3/WIcu
-p7iVPhtdByefx4FQxg7913rdJyeQrI+hab0uPl/CjylwMVwWtBqRx4oKo8im59/4
-N7MRYZKJ44/fBSIGoM0pibSpDzfd7y6Drusp1mqi3CXGPXsVFIDQ66d7yoFt+t7h
-nB2A565e/C1eXaS80XTHeJzfS5dJ6ssjgyszTGM5PdN9C335pDGfQV0CqGNAMZqo
-tbBI1B0NgQ2KJJ787Wi3pexxi3haliMNrSKEAkLVDZ6R0a1PgpN/hBth3Nf2Oj+O
-+pBNtkiA0fnkoKS6ps9Vgj+NB08OLeYNpfGFHa9xxFdPoA==
+ZnQuY29thwR/AAABhxAAAAAAAAAAAAAAAAAAAAABMB0GA1UdDgQWBBQeoC5wxwX5
+k3ggIN/844/6jKx9czAfBgNVHSMEGDAWgBQ7Zh1TopMm7SY1RCOEO8L1G8IAZDAN
+BgkqhkiG9w0BAQsFAAOCAQEA18wEg8LnPm99cIouFUFMAO+BpiY2KVa9Bu6x07m9
+quNFv7/4mLt87sk/umD3LH/tDjqW0D84vhG9a+0yDq7ZrD/P5eK3R+yBINwhe4/x
+obJlThEsbcZF1FkMnq1rt53izukyQLLQwoVxidQl3HCg3hosWmpH1VBPgwoize6V
+aAhKLW0n+JSfIE1d80nvZdYlHuCnS6UhLmAbTBCnwT0aGTfzT0Dd4KlYiY8vGZRu
+tXOw4MzKtJcOL3t7Zpz2mhqN25dyiuyvKEhLXdx48aemwa2t6ISfFKsd0/glnNe/
+PFZMakzKv1G0xLGURjsInCZ0kePAmerfZN6CBZDo4laYEg==
 -----END CERTIFICATE-----
diff --git a/test/config/integration/certs/upstreamcert_hash.h b/test/config/integration/certs/upstreamcert_hash.h
index 4342078b93..ec9a111a31 100644
--- a/test/config/integration/certs/upstreamcert_hash.h
+++ b/test/config/integration/certs/upstreamcert_hash.h
@@ -1,3 +1,3 @@
 // NOLINT(namespace-envoy)
-constexpr char TEST_UPSTREAM_CERT_HASH[] = "57:0E:EF:74:60:9C:8E:3D:AA:EA:3F:3E:02:69:89:40:E6:00:"
-                                           "AD:CA:86:69:73:BA:9E:0B:01:A2:E2:F3:75:7F";
+constexpr char TEST_UPSTREAM_CERT_HASH[] = "9E:4B:E7:83:5B:DE:82:A6:E5:CE:24:8D:DB:91:C1:0C:20:0F:"
+                                           "25:3A:D4:4C:5E:13:AB:CD:53:00:93:85:F3:BE";
diff --git a/test/config/integration/certs/upstreamkey.pem b/test/config/integration/certs/upstreamkey.pem
index 58945f2125..c1fc3c90cc 100644
--- a/test/config/integration/certs/upstreamkey.pem
+++ b/test/config/integration/certs/upstreamkey.pem
@@ -1,27 +1,27 @@
 -----BEGIN RSA PRIVATE KEY-----
-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
+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
 -----END RSA PRIVATE KEY-----
diff --git a/test/config/integration/certs/upstreamlocalhostcert.pem b/test/config/integration/certs/upstreamlocalhostcert.pem
index 169d1c63e5..33b597dfc8 100644
--- a/test/config/integration/certs/upstreamlocalhostcert.pem
+++ b/test/config/integration/certs/upstreamlocalhostcert.pem
@@ -1,25 +1,25 @@
 -----BEGIN CERTIFICATE-----
-MIIEPTCCAyWgAwIBAgIUfoTig3pqtlASJyyhMZ2/x0Hg33UwDQYJKoZIhvcNAQEL
+MIIEPTCCAyWgAwIBAgIUEuy1WgSCzX6mojPirk7Th6uhNHswDQYJKoZIhvcNAQEL
 BQAwfzELMAkGA1UEBhMCVVMxEzARBgNVBAgMCkNhbGlmb3JuaWExFjAUBgNVBAcM
 DVNhbiBGcmFuY2lzY28xDTALBgNVBAoMBEx5ZnQxGTAXBgNVBAsMEEx5ZnQgRW5n
-aW5lZXJpbmcxGTAXBgNVBAMMEFRlc3QgVXBzdHJlYW0gQ0EwHhcNMTkwNzEyMjI0
-MzQ1WhcNMjEwNzExMjI0MzQ1WjCBgzELMAkGA1UEBhMCVVMxEzARBgNVBAgMCkNh
+aW5lZXJpbmcxGTAXBgNVBAMMEFRlc3QgVXBzdHJlYW0gQ0EwHhcNMjAwODA1MTkx
+NjAzWhcNMjIwODA1MTkxNjAzWjCBgzELMAkGA1UEBhMCVVMxEzARBgNVBAgMCkNh
 bGlmb3JuaWExFjAUBgNVBAcMDVNhbiBGcmFuY2lzY28xDTALBgNVBAoMBEx5ZnQx
 GTAXBgNVBAsMEEx5ZnQgRW5naW5lZXJpbmcxHTAbBgNVBAMMFFRlc3QgVXBzdHJl
-YW0gU2VydmVyMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEApWnYvUff
-dh+TcLEYxQiw+ZUaGfBedmVmaxOHAbsWwBcMcwt3ITAjRPLPFEUt/DUxgmXO80zo
-6YOc9uUIUGU0vqIFTQP3JfS9kMevrvQIkZbsO2rtNMYQ+F7HOmGUS3RiKdNNbHnX
-NKKPsHe/UFiFCBwxVCT+NSGI3yHZFUSFlvH9BEO+a1lx4pp2R7UJTLdBVaGx42t1
-pTTR2E2S6E1tKXhtS/qN4+X+dDaUFfi7mz+QiNFsYKu5QgO9f8ewfdOPj9MImZvG
-4l37/eNtNjzwTMx8Ph4moTSo4yH9ZBGHffPDm4ljPXpLUfiVyIvzR6ygG468ODcP
-umQjprHM3TTxlQIDAQABo4GrMIGoMAwGA1UdEwEB/wQCMAAwCwYDVR0PBAQDAgXg
+YW0gU2VydmVyMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAut0zAnO+
+0q/IyxWG/LVbjh5gI2C9ZqNpFD+PK/bwPahg5JdtLnOWPwL+3BqjRcJ7/viocncL
+eF3bhJ2hgF7gZGqd07juA3O9Qo+UUUgFvSsEGg2Y5c5gmD3rxdatxv/TnCmWn2pf
+5366GmMQXCz99QGFuwUvIAGdApTjh65V32BZlgIwI9ArRy2v4YyW4hEaqiMeMaqB
+Q994UCqlbhL/d3eBz3pEG0UIMkUPndTN42cWK8dGhSSHlJQkdAOk6x+24xY/qvjc
+OZOtoO0GQu+SBwV+S0Wt75CI2k/IKYzMX5G7QFEcE6RgkL8Ag2DSG4bl/6Zf3C3z
+ufWZwMlhjzZoHwIDAQABo4GrMIGoMAwGA1UdEwEB/wQCMAAwCwYDVR0PBAQDAgXg
 MB0GA1UdJQQWMBQGCCsGAQUFBwMCBggrBgEFBQcDATAsBgNVHREEJTAjgglsb2Nh
-bGhvc3SHBH8AAAGHEAAAAAAAAAAAAAAAAAAAAAEwHQYDVR0OBBYEFFhoq2tgE+IN
-uLyrUa1YpgsOpkwTMB8GA1UdIwQYMBaAFOLTMLryzNAcuxe3cKEhClkL7IduMA0G
-CSqGSIb3DQEBCwUAA4IBAQB6jYcrAtO+8rLWdBp2W2tj9lgTHE8+W9BzMONrFwVo
-PNMPHKPl2XfqKbv64sW3Z9sIA7ThSUu0nAe8i3ddaL4xQvPnaOwTdSnhykyMg2Hp
-dDVAT8nCQb7Q87cuiFKE7o87XaQeOS3hgKeQ4uKexA48MkKwNYTVRMb7iC64yZcg
-DY5H0nxRISs6pIAD9SPvPOQv+KZ35/LDJy59Kvso1zPoM9e+CJcdHU3hKM3RBK5J
-FOjDL8qFair7vyjO9DUPDgoAZJntCQYGC0ToYxTe8cQVJD+sW5gqqIBLRchMr3gL
-ni7rAL+oUyufHIEu3upRId+FdVF/hQMCLF2xk54/KX0V
+bGhvc3SHBH8AAAGHEAAAAAAAAAAAAAAAAAAAAAEwHQYDVR0OBBYEFKsGHS0dB1v/
+Q0YBMcKXV0BC95TFMB8GA1UdIwQYMBaAFDtmHVOikybtJjVEI4Q7wvUbwgBkMA0G
+CSqGSIb3DQEBCwUAA4IBAQAet+A9/JpMOcTstI8AVxVtJ+DuaPSl9L+kUSTPRwee
+F1YeHz3i7ibhdheZcWKWJUaVYmU2VTzYTT3iPxB36KvpHEcsxRAaCyND9a48JeIn
+awV+2KUD6QhFPWrtcM/TIzDcrl9qT69nnraVv1haXh/t5xRA30+h5aA4t9PnHxWA
+mDv6Hslqi/NLCN1KBIZxmUspLkZFJT3uS7mdcI3d0m5tQx7W7UZr/40sbdxRjK3Y
+XnCJVa51ZAkoJMEiDY7/zPraZbW1QiIaGBRTGVJ/rzJDvwnMo117GIqiRKKw9fo3
+GntHAThLZeCkdfAcDnzKLkOU6Sp9QHXd2pAC7H1z3EjP
 -----END CERTIFICATE-----
diff --git a/test/config/integration/certs/upstreamlocalhostcert_hash.h b/test/config/integration/certs/upstreamlocalhostcert_hash.h
index 9f81e65fcd..545ee39913 100644
--- a/test/config/integration/certs/upstreamlocalhostcert_hash.h
+++ b/test/config/integration/certs/upstreamlocalhostcert_hash.h
@@ -1,4 +1,4 @@
 // NOLINT(namespace-envoy)
 constexpr char TEST_UPSTREAMLOCALHOST_CERT_HASH[] =
-    "44:A1:C4:AD:71:B5:AE:A0:A2:24:63:DA:C8:FF:0C:FC:26:6E:4B:D7:08:DE:64:60:34:A0:72:42:6E:18:BA:"
-    "87";
+    "8C:49:C0:6C:4C:02:39:29:EB:5B:37:C6:62:02:7A:81:77:22:35:DD:99:1D:62:78:4C:95:5B:38:36:6C:1F:"
+    "1E";
diff --git a/test/config/integration/certs/upstreamlocalhostkey.pem b/test/config/integration/certs/upstreamlocalhostkey.pem
index 5331d81095..30b9c0c462 100644
--- a/test/config/integration/certs/upstreamlocalhostkey.pem
+++ b/test/config/integration/certs/upstreamlocalhostkey.pem
@@ -1,27 +1,27 @@
 -----BEGIN RSA PRIVATE KEY-----
-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
+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
 -----END RSA PRIVATE KEY-----
diff --git a/test/extensions/grpc_credentials/aws_iam/BUILD b/test/extensions/grpc_credentials/aws_iam/BUILD
index 0796f78a87..4c9b6e7f22 100644
--- a/test/extensions/grpc_credentials/aws_iam/BUILD
+++ b/test/extensions/grpc_credentials/aws_iam/BUILD
@@ -13,7 +13,6 @@ envoy_cc_test(
     name = "aws_iam_grpc_credentials_test",
     srcs = envoy_select_google_grpc(["aws_iam_grpc_credentials_test.cc"]),
     data = ["//test/config/integration/certs"],
-    tags = ["fails_on_windows"],
     deps = [
         "//source/extensions/grpc_credentials:well_known_names",
         "//source/extensions/grpc_credentials/aws_iam:config",
diff --git a/test/extensions/grpc_credentials/file_based_metadata/BUILD b/test/extensions/grpc_credentials/file_based_metadata/BUILD
index 53cff427b2..b258c5c082 100644
--- a/test/extensions/grpc_credentials/file_based_metadata/BUILD
+++ b/test/extensions/grpc_credentials/file_based_metadata/BUILD
@@ -13,7 +13,6 @@ envoy_cc_test(
     name = "file_based_metadata_grpc_credentials_test",
     srcs = ["file_based_metadata_grpc_credentials_test.cc"],
     data = ["//test/config/integration/certs"],
-    tags = ["fails_on_windows"],
     deps = [
         "//source/extensions/grpc_credentials:well_known_names",
         "//source/extensions/grpc_credentials/file_based_metadata:config",
diff --git a/test/integration/fake_upstream.cc b/test/integration/fake_upstream.cc
index b20ff03183..2c55ea7397 100644
--- a/test/integration/fake_upstream.cc
+++ b/test/integration/fake_upstream.cc
@@ -443,8 +443,8 @@ makeTcpListenSocket(const Network::Address::InstanceConstSharedPtr& address) {
 }
 
 static Network::SocketPtr makeTcpListenSocket(uint32_t port, Network::Address::IpVersion version) {
-  return makeTcpListenSocket(
-      Network::Utility::parseInternetAddress(Network::Test::getAnyAddressString(version), port));
+  return makeTcpListenSocket(Network::Utility::parseInternetAddress(
+      Network::Test::getLoopbackAddressString(version), port));
 }
 
 static Network::SocketPtr
